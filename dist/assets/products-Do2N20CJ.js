import{R as p,r as u,a as v,u as l,j as e,L as y,C as f,d as N}from"./index-CO4A6BKl.js";import{S as t}from"./skeleton-Bu_GamJ0.js";import{S as w,N as b,a as _}from"./navigation-BsE50uNQ.js";import{H as S,F as C}from"./footer-Dosfl34H.js";import{P as F}from"./productCard-CrcZzTtR.js";function L(){const[a,o]=u.useState("");let{id:r}=v();const{data:m,isLoading:i}=l({queryKey:["subCategoryList",r],queryFn:async()=>f({page:1,pageSize:1e3,categoryId:r,search:""})}),d=m?.results?.categories,{data:x,isLoading:h,isFetching:g,refetch:j}=l({queryKey:["productList",r,a],queryFn:async()=>N({page:1,pageSize:1e3,categoryId:a||r,search:""}),onError:s=>{console.log(s)}}),n=x?.results?.products||[];return e.jsxs(e.Fragment,{children:[e.jsx(S,{}),e.jsx("section",{className:"product-details",children:e.jsxs("div",{className:"container comman-spacing-top-bottom",children:[e.jsx("div",{className:"d-flex align-items-center gap-2 flex-wrap",children:i?e.jsx("div",{className:"w-100",children:e.jsx(t,{height:24,style:{width:"100%"}})}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"m-0 heading",children:d?.[0]?.parentCategory?.name_en}),e.jsx("p",{className:"m-0 text dot",children:" 50+ restaurants"})]})}),e.jsx("div",{className:"position-relative",children:e.jsx("div",{className:i?"category-items-tabs d-flex gap-4 px-0":"category-items-tabs",children:i?[...Array(20)].map((s,c)=>e.jsx("div",{children:e.jsx(t,{height:42,width:100})},c)):e.jsxs("div",{className:"position-relative",children:[e.jsx(w,{modules:[b],spaceBetween:16,slidesPerView:"auto",navigation:{nextEl:".slide-btn.next",prevEl:".slide-btn.prev"},breakpoints:{320:{spaceBetween:10},768:{spaceBetween:16}},children:d?.map(s=>e.jsx(_,{children:e.jsx(y,{to:"",onClick:()=>o(a&&a===s._id?"":s._id),className:a===s._id?"category-items-tabs-items active":"category-items-tabs-items",children:e.jsx("div",{children:s.name_en})})},s._id))}),e.jsx("button",{className:"slide-btn prev",children:e.jsx("img",{src:"../assets/image/icons/angle-left.svg",alt:"Previous"})}),e.jsx("button",{className:"slide-btn next",children:e.jsx("img",{src:"../assets/image/icons/angle-right.svg",alt:"Next"})})]})})}),e.jsx("div",{className:"row g-4 ",children:h||i||g&&!n.length?e.jsx(e.Fragment,{children:[...Array(6)].map((s,c)=>e.jsx("div",{className:"col-md-4 col-lg-4 col-xl-4",children:e.jsx("a",{children:e.jsxs("div",{className:"custom-card wow animate__animated animate__fadeInUp","data-wow-delay":"0.2s",children:[e.jsx("div",{className:"custom-card-header",children:e.jsx(t,{})}),e.jsxs("div",{className:"custom-card-body",children:[e.jsx("h2",{children:e.jsx(t,{})}),e.jsx("div",{children:e.jsx(t,{style:{width:"70%"}})}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"d-flex justify-content-between",children:e.jsx("div",{className:"d-flex align-items-center gap-2 w-100 ",children:e.jsx("p",{className:"text w-100",children:e.jsx(t,{style:{width:"100%"}})})})})})]})]})})},c))}):n?.length?n?.map(s=>e.jsx(F,{item:s,refetch2:j})):e.jsxs("div",{className:"mt-5 no-data mx-auto d-flex flex-column justify-content-center align-items-center",children:[e.jsx("img",{src:"../assets/image/products/noData.avif",alt:"nodata",loading:"lazy"}),e.jsxs("p",{children:["Uh-oh! Looks like the product you are trying to access,",e.jsx("br",{}),"doesn't exist. Please start afresh."]})]})})]})}),e.jsx(C,{})]})}const z=p.memo(L);export{z as default};
