import{R as g,j as n,a as B,u as R,L as C,b as S}from"./index-DQotRUfC.js";import{H as k,F as q}from"./footer-D0usDuYn.js";var w,F;function E(){if(F)return w;F=1;var o={linear:function(e,s,r,i){var t=r-s;return t*e/i+s},easeInQuad:function(e,s,r,i){var t=r-s;return t*(e/=i)*e+s},easeOutQuad:function(e,s,r,i){var t=r-s;return-t*(e/=i)*(e-2)+s},easeInOutQuad:function(e,s,r,i){var t=r-s;return(e/=i/2)<1?t/2*e*e+s:-t/2*(--e*(e-2)-1)+s},easeInCubic:function(e,s,r,i){var t=r-s;return t*(e/=i)*e*e+s},easeOutCubic:function(e,s,r,i){var t=r-s;return t*((e=e/i-1)*e*e+1)+s},easeInOutCubic:function(e,s,r,i){var t=r-s;return(e/=i/2)<1?t/2*e*e*e+s:t/2*((e-=2)*e*e+2)+s},easeInQuart:function(e,s,r,i){var t=r-s;return t*(e/=i)*e*e*e+s},easeOutQuart:function(e,s,r,i){var t=r-s;return-t*((e=e/i-1)*e*e*e-1)+s},easeInOutQuart:function(e,s,r,i){var t=r-s;return(e/=i/2)<1?t/2*e*e*e*e+s:-t/2*((e-=2)*e*e*e-2)+s},easeInQuint:function(e,s,r,i){var t=r-s;return t*(e/=i)*e*e*e*e+s},easeOutQuint:function(e,s,r,i){var t=r-s;return t*((e=e/i-1)*e*e*e*e+1)+s},easeInOutQuint:function(e,s,r,i){var t=r-s;return(e/=i/2)<1?t/2*e*e*e*e*e+s:t/2*((e-=2)*e*e*e*e+2)+s},easeInSine:function(e,s,r,i){var t=r-s;return-t*Math.cos(e/i*(Math.PI/2))+t+s},easeOutSine:function(e,s,r,i){var t=r-s;return t*Math.sin(e/i*(Math.PI/2))+s},easeInOutSine:function(e,s,r,i){var t=r-s;return-t/2*(Math.cos(Math.PI*e/i)-1)+s},easeInExpo:function(e,s,r,i){var t=r-s;return e==0?s:t*Math.pow(2,10*(e/i-1))+s},easeOutExpo:function(e,s,r,i){var t=r-s;return e==i?s+t:t*(-Math.pow(2,-10*e/i)+1)+s},easeInOutExpo:function(e,s,r,i){var t=r-s;return e===0?s:e===i?s+t:(e/=i/2)<1?t/2*Math.pow(2,10*(e-1))+s:t/2*(-Math.pow(2,-10*--e)+2)+s},easeInCirc:function(e,s,r,i){var t=r-s;return-t*(Math.sqrt(1-(e/=i)*e)-1)+s},easeOutCirc:function(e,s,r,i){var t=r-s;return t*Math.sqrt(1-(e=e/i-1)*e)+s},easeInOutCirc:function(e,s,r,i){var t=r-s;return(e/=i/2)<1?-t/2*(Math.sqrt(1-e*e)-1)+s:t/2*(Math.sqrt(1-(e-=2)*e)+1)+s},easeInElastic:function(e,s,r,i){var t=r-s,a,c,l;return l=1.70158,c=0,a=t,e===0?s:(e/=i)===1?s+t:(c||(c=i*.3),a<Math.abs(t)?(a=t,l=c/4):l=c/(2*Math.PI)*Math.asin(t/a),-(a*Math.pow(2,10*(e-=1))*Math.sin((e*i-l)*(2*Math.PI)/c))+s)},easeOutElastic:function(e,s,r,i){var t=r-s,a,c,l;return l=1.70158,c=0,a=t,e===0?s:(e/=i)===1?s+t:(c||(c=i*.3),a<Math.abs(t)?(a=t,l=c/4):l=c/(2*Math.PI)*Math.asin(t/a),a*Math.pow(2,-10*e)*Math.sin((e*i-l)*(2*Math.PI)/c)+t+s)},easeInOutElastic:function(e,s,r,i){var t=r-s,a,c,l;return l=1.70158,c=0,a=t,e===0?s:(e/=i/2)===2?s+t:(c||(c=i*(.3*1.5)),a<Math.abs(t)?(a=t,l=c/4):l=c/(2*Math.PI)*Math.asin(t/a),e<1?-.5*(a*Math.pow(2,10*(e-=1))*Math.sin((e*i-l)*(2*Math.PI)/c))+s:a*Math.pow(2,-10*(e-=1))*Math.sin((e*i-l)*(2*Math.PI)/c)*.5+t+s)},easeInBack:function(e,s,r,i,t){var a=r-s;return t===void 0&&(t=1.70158),a*(e/=i)*e*((t+1)*e-t)+s},easeOutBack:function(e,s,r,i,t){var a=r-s;return t===void 0&&(t=1.70158),a*((e=e/i-1)*e*((t+1)*e+t)+1)+s},easeInOutBack:function(e,s,r,i,t){var a=r-s;return t===void 0&&(t=1.70158),(e/=i/2)<1?a/2*(e*e*(((t*=1.525)+1)*e-t))+s:a/2*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)+s},easeInBounce:function(e,s,r,i){var t=r-s,a;return a=o.easeOutBounce(i-e,0,t,i),t-a+s},easeOutBounce:function(e,s,r,i){var t=r-s;return(e/=i)<1/2.75?t*(7.5625*e*e)+s:e<2/2.75?t*(7.5625*(e-=1.5/2.75)*e+.75)+s:e<2.5/2.75?t*(7.5625*(e-=2.25/2.75)*e+.9375)+s:t*(7.5625*(e-=2.625/2.75)*e+.984375)+s},easeInOutBounce:function(e,s,r,i){var t=r-s,a;return e<i/2?(a=o.easeInBounce(e*2,0,t,i),a*.5+s):(a=o.easeOutBounce(e*2-i,0,t,i),a*.5+t*.5+s)}};return w=o,w}var _=E();function A(o){return o*Math.PI/180}function h(o,e){return o+Math.random()*(e-o)}function Q(o,e){return Math.floor(o+Math.random()*(e-o+1))}var v;(function(o){o[o.Circle=0]="Circle",o[o.Square=1]="Square",o[o.Strip=2]="Strip"})(v||(v={}));var u;(function(o){o[o.Positive=1]="Positive",o[o.Negative=-1]="Negative"})(u||(u={}));const T=1e3/60;class Y{constructor(e,s,r,i){this.getOptions=s;const{colors:t,initialVelocityX:a,initialVelocityY:c}=this.getOptions();this.context=e,this.x=r,this.y=i,this.w=h(5,20),this.h=h(5,20),this.radius=h(5,10),this.vx=typeof a=="number"?h(-a,a):h(a.min,a.max),this.vy=typeof c=="number"?h(-c,0):h(c.min,c.max),this.shape=Q(0,2),this.angle=A(h(0,360)),this.angularSpin=h(-.2,.2),this.color=t[Math.floor(Math.random()*t.length)],this.rotateY=h(0,1),this.rotationDirection=h(0,1)?u.Positive:u.Negative}update(e){const{gravity:s,wind:r,friction:i,opacity:t,drawShape:a}=this.getOptions(),c=e/T;this.x+=this.vx*c,this.y+=this.vy*c,this.vy+=s*c,this.vx+=r*c,this.vx*=i**c,this.vy*=i**c,this.rotateY>=1&&this.rotationDirection===u.Positive?this.rotationDirection=u.Negative:this.rotateY<=-1&&this.rotationDirection===u.Negative&&(this.rotationDirection=u.Positive);const l=.1*this.rotationDirection*c;if(this.rotateY+=l,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=t,this.context.lineCap="round",this.context.lineWidth=2,a&&typeof a=="function")a.call(this,this.context);else switch(this.shape){case v.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case v.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case v.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class G{constructor(e,s){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=i=>{this.particles.splice(i,1)},this.getParticle=()=>{const i=h(this.x,this.w+this.x),t=h(this.y,this.h+this.y);return new Y(this.context,this.getOptions,i,t)},this.animate=i=>{const{canvas:t,context:a,particlesGenerated:c,lastNumberOfPieces:l}=this,{run:y,recycle:m,numberOfPieces:p,debug:D,tweenFunction:b,tweenDuration:O}=this.getOptions();if(!y)return!1;const j=this.particles.length,x=m?j:c;if(x<p){l!==p&&(this.tweenProgress=0,this.tweenFrom=x,this.lastNumberOfPieces=p),this.tweenProgress=Math.min(O,Math.max(0,this.tweenProgress+i));const f=b(this.tweenProgress,this.tweenFrom,p,O),d=Math.round(f-x);for(let M=0;M<d;M++)this.particles.push(this.getParticle());this.particlesGenerated+=d}D&&(a.font="12px sans-serif",a.fillStyle="#333",a.textAlign="right",a.fillText(`Particles: ${j}`,t.width-10,t.height-20));for(let f=this.particles.length-1;f>=0;f--){const d=this.particles[f];d.update(i),(d.y>t.height||d.y<-100||d.x>t.width+100||d.x<-100)&&(m&&x<=p?this.particles[f]=this.getParticle():this.removeParticleAt(f))}return j>0||x<p},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=s}}const I={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:_.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class V{constructor(e,s){this.lastFrameTime=0,this.setOptionsWithDefaults=i=>{const t={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...t,...I,...i},Object.assign(this,i.confettiSource)},this.update=(i=0)=>{const{options:{run:t,onConfettiComplete:a,frameRate:c},canvas:l,context:y}=this,m=Math.min(i-this.lastFrameTime,50);if(c&&m<1e3/c){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=i-(c?m%c:0),t&&(y.fillStyle="white",y.clearRect(0,0,l.width,l.height)),this.generator.animate(m)?this.rafId=requestAnimationFrame(this.update):(a&&typeof a=="function"&&this.generator.particlesGenerated>0&&a.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new G(this.canvas,()=>this.options),this.options=s,this.update()}get options(){return this._options}set options(e){const s=this._options?.run,r=this._options?.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&s===!1&&this.update()}}const W=g.createRef();class P extends g.Component{constructor(e){super(e),this.canvas=g.createRef(),this.canvas=e.canvasRef||W}componentDidMount(){if(this.canvas.current){const e=N(this.props)[0];this.confetti=new V(this.canvas.current,e)}}componentDidUpdate(){const e=N(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,s]=N(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...s.style};return n.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...s,style:r})}}P.defaultProps={...I};P.displayName="ReactConfetti";function N(o){const e={},s={},r={},i=[...Object.keys(I),"confettiSource","drawShape","onConfettiComplete","frameRate"],t=["canvasRef"];for(const a in o){const c=o[a];i.includes(a)?e[a]=c:t.includes(a)?t[a]=c:r[a]=c}return[e,r,s]}const H=g.forwardRef((o,e)=>n.jsx(P,{canvasRef:e,...o}));function X(){let{id:o}=B();const{data:e}=R({queryKey:["orderDetails",o],queryFn:()=>S(o),onError:t=>{console.log(t)},select:t=>t.results.order});console.log(e);const s=e?.products?.reduce((t,a)=>t+a.variantId.price*a.quantity,0),r=e?.products?.reduce((t,a)=>t+(a.variantId.discountPrice||a.variantId.price)*a.quantity,0),i=e?.products?.reduce((t,a)=>{const c=a.variantId.price*a.quantity,l=(a.variantId.discountPrice||a.variantId.price)*a.quantity;return t+(c-l)},0);return n.jsxs(n.Fragment,{children:[n.jsx(k,{}),n.jsx(H,{width:window.innerWidth,height:window.innerHeight,colors:["#e46a15","#f46b45","#eea849"],gravity:.1,initialVelocityX:2,initialVelocityY:2,numberOfPieces:200,opacity:1,recycle:!1,run:!0,wind:0}),n.jsx("section",{className:"order-confirmed-bg",children:n.jsxs("div",{className:"container comman-spacing-top-bottom pb-0",children:[n.jsx("div",{className:"order-confirmed-bg-wrapper",children:n.jsxs("div",{className:"confirm-message",children:[n.jsx("img",{src:"../../assets/image/icons/icons8-verified-account.gif",alt:""}),n.jsx("h2",{className:"confirmed-heading",children:"Order Confirmed"}),n.jsx("p",{className:"text",children:"Your food is on its way"}),n.jsxs("div",{className:"order-id-box text",children:["Order Id : ",n.jsx("b",{children:e?.orderId})]})]})}),n.jsxs("div",{className:"row mt-3",children:[n.jsx("a",{href:e?.invoice,target:"_blank",rel:"noopener noreferrer",className:"text text-white comman-btn-main w-auto",children:"Download Invoice"}),n.jsx(C,{to:"/",className:"text text-white comman-btn-main ms-3",children:"Go Back"})]})]})}),n.jsx("section",{className:"order-confirmed-list",children:n.jsx("div",{className:"container comman-spacing-top-bottom",children:n.jsxs("div",{className:"row",children:[n.jsxs("div",{className:"col-md-5 col-lg-6",children:[n.jsxs("div",{className:"rounded-3 px-3 py-3 bg-white",children:[n.jsxs("div",{className:"d-flex align-items-center justify-content-between flex-wrap",children:[n.jsx("h2",{className:"heading fs-6",children:"Order Progress"}),n.jsxs("div",{className:"text estimated-delivery-card",children:["Estimated Delivery: ",n.jsx("b",{className:"text-dark",children:"30 Minutes"})]})]}),n.jsx("div",{className:"mt-4",children:e?.products?.[0]?.tracking?.map(t=>n.jsxs("div",{className:t.is_active?"items-check-points active-points active":"items-check-points",children:[n.jsx("div",{className:"icon",children:n.jsx("img",{src:t.status==="Placed"?"../../assets/image/icons/Check.svg":t.status==="Preparing"?"../../assets/image/icons/restaurant.png":t.status==="Out for Delivery"?"../../assets/image/icons/truck.svg":t.status==="Delivered"?"../../assets/image/icons/home.svg":"",alt:"",style:{width:"22px"}})}),n.jsx("h2",{children:t.status})]},t._id))})]}),n.jsx("div",{className:"mt-4",children:n.jsxs("div",{className:"rounded-3 px-3 py-3 bg-white",children:[n.jsx("h2",{className:"heading",children:"Your Delivery Partner"}),n.jsxs("div",{className:"mt-4 d-flex align-items-center justify-content-between",children:[n.jsxs("div",{className:"d-flex gap-3 align-items-center delivery-partner",children:[n.jsx("div",{className:"user",children:n.jsx("img",{src:"../../assets/image/icons/delivery-man.png",className:"w-100 h-100",alt:""})}),n.jsxs("div",{children:[n.jsx("h2",{children:e?.products[0]?.deliveryBoyId?.firstName?n.jsxs(n.Fragment,{children:[e?.products[0]?.deliveryBoyId?.firstName," ",e?.products[0]?.deliveryBoyId?.lastName]}):n.jsxs("div",{style:{lineHeight:"24px"},children:["Your delivery partner will be assigned soon!"," ",n.jsx("br",{})," Keep Checking!"]})}),e?.products[0]?.deliveryBoyId?.firstName?n.jsx("p",{children:"Delivery Partner"}):""]})]}),e?.products[0]?.deliveryBoyId?.countryCode?n.jsx("div",{className:"icon",children:n.jsx("a",{href:`tel:${e?.products[0]?.deliveryBoyId?.countryCode}${e?.products[0]?.deliveryBoyId?.phoneNumber}`,children:n.jsx("img",{src:"../../assets/image/icons/phone-white.svg",alt:"Call Delivery Boy"})})}):""]})]})})]}),n.jsx("div",{className:"col-md-7 col-lg-6",children:n.jsxs("div",{className:"rounded-3 px-3 py-3 bg-white",children:[n.jsx("h2",{className:"heading fs-5",children:"Order summary"}),n.jsx("div",{className:"mt-4",children:e?.products?.map(t=>n.jsxs("div",{className:"cart-item d-flex align-items-center justify-content-between",children:[n.jsxs("div",{className:"d-flex align-items-center gap-2",children:[n.jsx(C,{className:"cart-img",to:`/product-details/${t?.productId?._id}`,children:n.jsx("img",{src:t?.productId?.images?.[0],className:"rounded",alt:t?.productId?.images?.[0]})}),n.jsxs("div",{children:[n.jsxs("h6",{className:"product-heading",children:[" ",t.productId.name_en]}),n.jsxs("small",{className:"text-muted",children:[" ",t.productId.userId.shopName]}),n.jsxs("p",{className:"fw-bold mb-0 mt-2",children:["₹",t?.variantId?.price]})]})]}),n.jsx("div",{className:"d-flex align-items-center",children:n.jsxs("p",{className:"text",children:["Qty: ",t?.quantity]})})]},t.productId._id))}),n.jsx("div",{className:"mt-4",children:n.jsxs("div",{className:"bill-details border-top pt-3 mt-3",children:[n.jsxs("p",{className:"d-flex justify-content-between mb-1",children:[n.jsx("span",{children:"Subtotal"}),n.jsxs("span",{children:[n.jsxs("del",{className:"text-muted",children:["₹",s||0]}),n.jsxs("strong",{className:"ms-2",children:["₹",r||0]})]})]}),n.jsxs("p",{className:"d-flex justify-content-between mb-3 text-success",children:[n.jsx("span",{children:"Discount"}),n.jsxs("span",{children:["-₹",i||0]})]}),n.jsxs("p",{className:"d-flex justify-content-between mb-3",children:[n.jsx("span",{children:"Delivery Charges"})," ",n.jsx("span",{children:"₹30"})]}),n.jsxs("p",{className:"d-flex justify-content-between mb-1",children:[n.jsx("span",{children:"Platform Fees"})," ",n.jsx("span",{children:"₹5"})]}),n.jsxs("h6",{className:"d-flex justify-content-between fw-bold",children:[n.jsx("span",{children:"Total Payable"}),n.jsxs("span",{children:["₹",r+35]})]})]})}),n.jsxs("div",{className:"mt-3",children:[n.jsx("h2",{className:"heading fs-6 font-medium",children:"Payment Details"}),n.jsx("div",{className:"mt-3",children:n.jsxs("div",{className:"paid-card",children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[n.jsx("span",{className:"text-success fw-normal",children:"Paid Online"}),n.jsxs("span",{className:"text-success fw-semibold",children:["₹",e?.paidAmount]})]}),n.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[n.jsx("span",{className:"text-danger fw-normal",children:"Pay on Delivery"}),n.jsxs("span",{className:"text-danger fw-semibold",children:["₹",e?.pendingPayment+35]})]})]})})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h2",{className:"heading fs-6 font-medium",children:"Delivery Address"}),n.jsxs("p",{className:"text",children:[e?.address?.address_line2,","," ",e?.address?.address_line1]})]})]})})]})})}),n.jsx(q,{})]})}const L=g.memo(X);export{L as default};
