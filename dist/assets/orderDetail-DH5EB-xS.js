import{R as n,a as m,u as o,j as s,b as x}from"./index-BLMPW9WB.js";import{H as h,F as j}from"./footer-CakmXaew.js";import{S as d}from"./skeleton--t6hVZh-.js";function u(){let{id:c}=m();const{data:a,isLoading:l}=o({queryKey:["orderDetails",c],queryFn:()=>x(c),onError:e=>{console.log(e)},select:e=>e.results.order});console.log(a);const r=a?.products?.reduce((e,i)=>e+i.variantId.price*i.quantity,0),t=a?.products?.reduce((e,i)=>e+(i.variantId.discountPrice||0)*i.quantity,0);return s.jsxs(s.Fragment,{children:[s.jsx(h,{}),s.jsx("section",{className:"order-confirmed-list",children:s.jsx("div",{className:"container comman-spacing-top-bottom",children:s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-md-7 col-lg-6",children:s.jsxs("div",{className:"rounded-3 px-3 py-3 bg-white",children:[s.jsx("h2",{className:"heading fs-5",children:"Order summary"}),s.jsx("div",{className:"mt-4",children:l?Array.from({length:5}).map((e,i)=>s.jsx("div",{className:"cart-item d-flex align-items-center justify-content-between",children:s.jsxs("div",{className:"d-flex align-items-center gap-2 w-100",children:[s.jsx("div",{className:"cart-img",children:s.jsx(d,{})}),s.jsxs("div",{className:"w-100",children:[s.jsx("h6",{className:"product-heading",children:s.jsx(d,{style:{width:"90%"}})}),s.jsx("small",{className:"text-muted",children:s.jsx(d,{style:{width:"70%"}})}),s.jsx("p",{className:"fw-bold mb-0 mt-2",children:s.jsx(d,{style:{width:"50%"}})})]})]})},i)):a?.products?.map(e=>s.jsxs("div",{className:"cart-item d-flex align-items-center justify-content-between",children:[s.jsxs("div",{className:"d-flex align-items-center gap-2",children:[s.jsx("div",{className:"cart-img",children:s.jsx("img",{src:e?.productId?.images?.[0],className:"rounded",alt:e?.productId?.images?.[0]})}),s.jsxs("div",{children:[s.jsxs("h6",{className:"product-heading",children:[" ",e.productId.name_en]}),s.jsxs("small",{className:"text-muted",children:[" ",e.productId.userId.shopName]}),s.jsxs("p",{className:"fw-bold mb-0 mt-2",children:["₹",e?.variantId?.price]})]})]}),s.jsx("div",{className:"d-flex align-items-center",children:s.jsxs("p",{className:"text",children:["Qty: ",e?.quantity]})})]},e.productId._id))}),s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"bill-details border-top pt-3 mt-3",children:[s.jsxs("p",{className:"d-flex justify-content-between mb-1",children:[s.jsx("span",{children:"Subtotal"})," ",s.jsxs("span",{children:["₹",r||0]})]}),s.jsxs("p",{className:"d-flex justify-content-between mb-3",children:[s.jsx("span",{children:"Delivery Charges"})," ",s.jsx("span",{children:"₹30"})]}),s.jsxs("p",{className:"d-flex justify-content-between mb-1",children:[s.jsx("span",{children:"Platform Fees"})," ",s.jsx("span",{children:"₹15"})]}),s.jsxs("p",{className:"d-flex justify-content-between mb-3",children:[s.jsx("span",{children:"Discount"})," ",s.jsxs("span",{children:["₹",t||0]})]}),s.jsxs("h6",{className:"d-flex justify-content-between fw-bold",children:[s.jsx("span",{children:"Total Payable"})," ",s.jsxs("span",{children:["₹",r+15+30-t]})]})]})}),s.jsxs("div",{className:"mt-3",children:[s.jsx("h2",{className:"heading fs-6 font-medium",children:"Payment Details"}),s.jsx("div",{className:"mt-3",children:s.jsxs("div",{className:"paid-card",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[s.jsx("span",{className:"text-success fw-normal",children:"Paid Online"}),s.jsxs("span",{className:"text-success fw-semibold",children:["₹",a?.paidAmount]})]}),s.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[s.jsx("span",{className:"text-danger fw-normal",children:"Pay on Delivery"}),s.jsxs("span",{className:"text-danger fw-semibold",children:["₹",a?.amount]})]})]})})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h2",{className:"heading fs-6 font-medium",children:"Delivery Address"}),s.jsxs("p",{className:"text",children:[a?.address?.address_line2,","," ",a?.address?.address_line1]})]})]})}),s.jsx("div",{className:"col-md-5 col-lg-6",children:s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"rounded-3 px-3 py-3 bg-white",children:[s.jsx("h2",{className:"heading fs-5",children:"Your Delivery Partner"}),l?s.jsxs("div",{className:"w-100 mt-3",children:[s.jsx("h6",{className:"product-heading",children:s.jsx(d,{style:{width:"90%"}})}),s.jsx("small",{className:"text-muted",children:s.jsx(d,{style:{width:"70%"}})}),s.jsx("p",{className:"fw-bold mb-0 mt-2",children:s.jsx(d,{style:{width:"50%"}})})]}):s.jsxs("div",{className:"mt-4 d-flex align-items-center justify-content-between",children:[s.jsxs("div",{className:"d-flex gap-3 align-items-center delivery-partner",children:[s.jsx("div",{className:"user",children:s.jsx("img",{src:"../../assets/image/icons/delivery-man.png",className:"w-100 h-100",alt:""})}),s.jsxs("div",{className:"w-100",children:[s.jsx("h2",{children:a?.products[0]?.deliveryBoyId?.firstName?s.jsxs(s.Fragment,{children:[a?.products[0]?.deliveryBoyId?.firstName," ",a?.products[0]?.deliveryBoyId?.lastName]}):s.jsxs("div",{style:{lineHeight:"24px"},children:["Your delivery partner will be assigned soon!"," ",s.jsx("br",{})," Keep Checking!"]})}),a?.products[0]?.deliveryBoyId?.firstName?s.jsx("p",{children:"Delivery Partner"}):""]})]}),a?.products[0]?.deliveryBoyId?.countryCode?s.jsx("div",{className:"icon",children:s.jsx("a",{href:`tel:${a?.products[0]?.deliveryBoyId?.countryCode}${a?.products[0]?.deliveryBoyId?.phoneNumber}`,children:s.jsx("img",{src:"../../assets/image/icons/phone-white.svg",alt:"Call Delivery Boy"})})}):""]}),l?"":s.jsxs("div",{className:"mt-4",children:[s.jsx("h2",{className:"heading mb-3 fs-5",children:"Order Status"}),a?.products?.[0]?.tracking?.map(e=>s.jsxs("div",{className:e.is_active?"items-check-points active-points active":"items-check-points",children:[s.jsx("div",{className:"icon",children:s.jsx("img",{src:e.status==="Placed"?"../../assets/image/icons/Check.svg":e.status==="Preparing"?"../../assets/image/icons/ForkKnife.svg":e.status==="Out for Delivery"?"../../assets/image/icons/truck.svg":e.status==="Delivered"?"../../assets/image/icons/home.svg":"",alt:""})}),s.jsx("h2",{children:e.status})]},e._id))]})]})})})]})})}),s.jsx(j,{})]})}const g=n.memo(u);export{g as default};
